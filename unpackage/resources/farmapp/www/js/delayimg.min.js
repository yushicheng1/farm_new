window.delayimg=(function(b,j,f){var k=[],a,e,l,h,i,c=function(p){var o=p.getBoundingClientRect();return(((o.top>=0&&o.left>=0&&o.top)<=(b.innerHeight||j.documentElement.clientHeight)+parseInt(e))&&o.bottom+40>0&&o.width+o.height>0)},d=function(){for(var p=k.length;p--;){var o=k[p];if(c(o)){if(o.getAttribute("data-delay-background")!==null){o.style.opacity=1;o.style.backgroundImage="url("+o.getAttribute("data-delay-background")+")";o.removeAttribute("data-delay-background")}else{if(o.getAttribute("data-delay")!==null){o.src=o.getAttribute("data-delay");o.onload=function(){this.style.opacity=1;this.removeAttribute("data-delay");this.removeAttribute("height");this.parentNode.style.background="transparent"}}}k.splice(p,1)}}},n=function(){clearTimeout(i);i=setTimeout(d,l);if(k.length<=0){h.removeEventListener("scroll",n)}},m=function(p){k=[];a=j.querySelectorAll("img[data-delay],[data-delay-background]");var p=p||{};e=p.offset||0;l=p.throttle||300;h=p.content||b;for(var o=0;o<a.length;o++){k.unshift(a[o])}n();h.addEventListener("scroll",n,false)},g=function(){k=[];a=j.querySelectorAll("img[data-delay],[data-delay-background]");for(var o=0;o<a.length;o++){k.unshift(a[o])}n();h.addEventListener("scroll",n,false)};return{init:m,render:g}})(window,document);